diff -Naur galculator-1.3.4/src/galculator.h galculator-1.3.4-xdg/src/galculator.h
--- galculator-1.3.4/src/galculator.h	2009-02-09 01:43:32.000000000 +1300
+++ galculator-1.3.4-xdg/src/galculator.h	2011-12-15 00:31:37.000000000 +1300
@@ -37,7 +37,8 @@
 
 #define CLEARED_DISPLAY	"0"
 
-#define CONFIG_FILE_NAME ".galculator"
+#define APPNAME "galculator"
+#define CONFIG_FILE_NAME "galculatorrc"
 
 #ifdef WITH_HILDON
 #define MAIN_GLADE_FILE 		PACKAGE_GLADE_DIR "/main_frame_hildon.glade"
diff -Naur galculator-1.3.4/src/main.c galculator-1.3.4-xdg/src/main.c
--- galculator-1.3.4/src/main.c	2009-02-09 01:43:32.000000000 +1300
+++ galculator-1.3.4-xdg/src/main.c	2011-12-15 00:10:46.000000000 +1300
@@ -1,7 +1,7 @@
 /*
  *  main.c
  *	part of galculator
- *  	(c) 2002-2009 Simon Floery (chimaira@users.sf.net)
+ *  (c) 2002-2009 Simon Floery (chimaira@users.sf.net)
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -17,16 +17,19 @@
  *  along with this program; if not, write to the Free Software
  *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
  */
- 
+
 /*
  * Initial main.c file generated by Glade. Edit as required.
  * Glade will not overwrite this file.
  */
- 
+
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
 
+#include <sys/stat.h>
+#include <sys/types.h>
+
 #include "calc_basic.h"
 #include "galculator.h"
 #include "display.h"
@@ -120,7 +123,7 @@
 
 int main (int argc, char *argv[])
 {
-	char		*config_file_name, *icon_file_name;
+	char		*config_file_name, *config_folder, *icon_file_name;
 	GtkWidget 	*main_window;
 	GList 		*buf_list;
 	GError		*error;
@@ -140,14 +143,22 @@
 	bindtextdomain (PACKAGE, PACKAGE_LOCALE_DIR);
 	bind_textdomain_codeset (PACKAGE, "UTF-8");
 	textdomain (PACKAGE);
-    	
+	
 	if (argc > 1) {
 		print_usage ();
 		return EXIT_SUCCESS;
 	}
-
+	
+	/* check if confdir exist */
+	config_folder = g_strdup_printf ("%s/%s", getenv ("XDG_CONFIG_HOME"), APPNAME);
+	
+	struct stat st;
+	if (stat(config_folder, &st) != NULL) {
+		mkdir(config_folder, 0700);
+	}
+	
 	/* at first, get config file */
-	config_file_name = g_strdup_printf ("%s/%s", getenv ("HOME"), CONFIG_FILE_NAME);
+	config_file_name = g_strdup_printf ("%s/%s/%s", getenv ("XDG_CONFIG_HOME"), APPNAME, CONFIG_FILE_NAME);
 	prefs = config_file_read (config_file_name);
 	
 	constant = config_file_get_constants();
@@ -175,7 +186,7 @@
 	/* set the window's icon */
 	buf_list = NULL;
 	error = NULL;
-	icon_file_name = g_strdup_printf ("%s/galculator_48x48.png", PACKAGE_PIXMAPS_DIR);
+	icon_file_name = g_strdup_printf ("%s/galculator.png", PACKAGE_PIXMAPS_DIR);
 	buf_list = g_list_append(buf_list, gdk_pixbuf_new_from_file (icon_file_name, &error));
 	g_free(icon_file_name);
 	gtk_window_set_icon_list ((GtkWindow *) main_window, buf_list);
@@ -186,7 +197,7 @@
 	 */
 
 	gtk_accelerator_set_default_mod_mask (gtk_accelerator_get_default_mod_mask () | GDK_MOD2_MASK); 
-				  
+	
 	/* prepare calc_basic */
 
 	main_alg = alg_init (0);
@@ -210,7 +221,7 @@
 
 	/* save changes to file */
 
-	config_file_name = g_strdup_printf ("%s/%s", getenv ("HOME"), CONFIG_FILE_NAME);
+	config_file_name = g_strdup_printf ("%s/%s/%s", getenv ("XDG_CONFIG_HOME"), APPNAME, CONFIG_FILE_NAME);
 	config_file_write (config_file_name, prefs, constant, user_function);
 	g_free (config_file_name);
 
